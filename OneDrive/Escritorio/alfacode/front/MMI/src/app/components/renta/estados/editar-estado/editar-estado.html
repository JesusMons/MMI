<p-card class="w-full h-full">
  <ng-template pTemplate="header">
    <div class="header flex justify-content-between align-items-center">
      <h3 class="m-0">Editar Estado</h3>
      <a pButton label="Volver" icon="pi pi-arrow-left" [routerLink]="['/estados']"></a>
    </div>
  </ng-template>

  <div *ngIf="loading" class="muted">Cargando…</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <form *ngIf="!loading && !error" [formGroup]="form" (ngSubmit)="save()" class="grid gap-3">
    <div class="field">
      <label for="esta_nombre">Nombre del Estado *</label>
      <input
        pInputText
        id="esta_nombre"
        formControlName="esta_nombre"
        [disabled]="loading"
        placeholder="Ej: Pagado / Pendiente / En proceso" />

      <small class="error" *ngIf="f.esta_nombre.touched && f.esta_nombre.errors?.['required']">
        El nombre es obligatorio.
      </small>
      <small class="error" *ngIf="f.esta_nombre.touched && f.esta_nombre.errors?.['maxlength']">
        Máximo 45 caracteres.
      </small>
    </div>

    <div class="actions mt-3">
      <button
        pButton
        type="button"
        label="Cancelar"
        class="p-button-secondary mr-2"
        (click)="cancel()"
        [disabled]="loading">
      </button>

      <button
        pButton
        type="submit"
        label="Guardar cambios"
        icon="pi pi-save"
        [disabled]="loading">
      </button>
    </div>
  </form>
</p-card>
