<p-card class="w-full h-full">
  <ng-template pTemplate="header">
    <div class="header flex justify-content-between align-items-center">
      <h3 class="m-0">Lista de Recursos</h3>

      <a
        pButton
        label="Crear Recurso"
        icon="pi pi-plus"
        class="p-button-success"
        [routerLink]="['/recursos/crear']">
      </a>
    </div>
  </ng-template>

  <div *ngIf="loading" class="muted">Cargando...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <p-table
    *ngIf="!loading && recursos.length"
    [value]="recursos"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[5,10,20]"
    [responsiveLayout]="'scroll'"
    styleClass="w-full">

    <ng-template pTemplate="header">
      <tr>
        <th style="width: 60px;">ID</th>
        <th>Nombre</th>
        <th>URL</th>
        <th style="width: 160px; text-align: center;">Acciones</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-r>
      <tr>
        <td>{{ r.id }}</td>
        <td>{{ r.nombre }}</td>
        <td>{{ r.url }}</td>
        <td class="actions">
          <a
            pButton
            icon="pi pi-pencil"
            class="p-button-warning mr-2"
            [routerLink]="['/recursos/actualizar-recurso/', r.id]">
          </a>

          <button
            pButton
            icon="pi pi-trash"
            class="p-button-danger"
            (click)="eliminarRecurso(r.id)">
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <div *ngIf="!loading && !recursos.length" class="muted">
    No hay recursos para mostrar.
  </div>
</p-card>
