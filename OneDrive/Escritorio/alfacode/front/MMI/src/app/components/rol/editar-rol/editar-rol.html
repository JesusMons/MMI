<p-card class="w-full">
  <ng-template pTemplate="header">
    <div class="flex justify-content-between align-items-center">
      <h3 class="m-0 text-xl font-bold">Editar Rol</h3>
      <a class="btn btn-back" [routerLink]="['/roles']">← Volver</a>
    </div>
  </ng-template>

  <form [formGroup]="form" (ngSubmit)="actualizar()" class="grid gap-3">
    <div class="field">
      <label for="nombre">Nombre *</label>
      <input id="nombre" pInputText formControlName="nombre" [disabled]="loading" class="form-control"/>
      <small class="text-error" *ngIf="f.nombre.touched && f.nombre.errors?.['required']">
        El nombre es obligatorio.
      </small>
      <small class="text-error" *ngIf="f.nombre.errors?.['maxlength']">
        Máximo 100 caracteres.
      </small>
    </div>

    <div class="field">
      <label for="descripcion">Descripción</label>
      <textarea id="descripcion"
                formControlName="descripcion"
                rows="3"
                class="p-inputtext p-inputtextarea w-full"
                [disabled]="loading"></textarea>
      <small class="text-error" *ngIf="f.descripcion.errors?.['maxlength']">
        Máximo 255 caracteres.
      </small>
    </div>

    <div *ngIf="error" class="text-error">{{ error }}</div>

    <div class="actions">
      <button type="button" class="btn btn-cancel" (click)="cancel()" [disabled]="loading">
        Cancelar
      </button>
      <button type="submit" class="btn btn-save" [disabled]="loading">
        Actualizar
      </button>
    </div>
  </form>
</p-card>
